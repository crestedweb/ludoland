<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Naija Ludo 3D - Alpha</title>
    <style>
      body {
        margin: 0;
        overflow: hidden;
        background: #1a1a1a;
        font-family: sans-serif;
        color: white;
      }
      #ui {
        position: absolute;
        bottom: 30px;
        width: 100%;
        text-align: center;
      }
      button {
        padding: 15px 30px;
        font-size: 20px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div id="game-container"></div>
    <div id="ui">
      <h2 id="status">Red's Turn</h2>
      <button onclick="rollDice()">ROLL DICE</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script>
      // ... Init Scene etc ...
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(
        45,
        window.innerWidth / window.innerHeight,
        0.1,
        100
      );
      camera.position.set(0, 20, 15);
      camera.lookAt(0, 0, 0);
      const renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.body.appendChild(renderer.domElement);
      new THREE.OrbitControls(camera, renderer.domElement);
      scene.add(new THREE.AmbientLight(0xffffff, 0.8));
      const board = new THREE.Mesh(
        new THREE.BoxGeometry(15, 0.5, 15),
        new THREE.MeshStandardMaterial({ color: 0xffffff })
      );
      scene.add(board);

      const PLAYERS = [
        { id: 0, name: "Red", pieces: [] },
        { id: 1, name: "Green", pieces: [] },
      ];
      let turn = 0;

      // Simple pieces
      PLAYERS.forEach((p, i) => {
        const mesh = new THREE.Mesh(
          new THREE.CylinderGeometry(0.3, 0.3, 0.1),
          new THREE.MeshStandardMaterial({
            color: i === 0 ? 0xff0000 : 0x00ff00,
          })
        );
        mesh.position.set(i * 5 - 2.5, 0.5, 0);
        scene.add(mesh);
        p.pieces.push({ mesh: mesh, step: 0 });
      });

      // PHASE 5: Basic Game Loop
      function rollDice() {
        const roll = Math.floor(Math.random() * 6) + 1;
        console.log("Rolled: " + roll);

        // Basic move logic for demo
        const p = PLAYERS[turn];
        p.pieces[0].step += roll;

        // Dummy visual update
        p.pieces[0].mesh.position.x += (turn === 0 ? 1 : -1) * 0.5;

        turn = (turn + 1) % 2;
        document.getElementById("status").innerText =
          PLAYERS[turn].name + "'s Turn";
      }

      function animate() {
        requestAnimationFrame(animate);
        renderer.render(scene, camera);
      }
      animate();
    </script>
  </body>
</html>
